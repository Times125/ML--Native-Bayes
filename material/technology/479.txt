  Details of new iPhones and other forthcoming Apple devices have been revealed via an apparent leak. Two news sites were given access to an as-yet-unreleased version of the iOS operating system. The code refers to an iPhone X in addition to two new iPhone 8 handsets. It also details facial recognition tech that acts both as an ID system and maps users' expressions onto emojis. One tech writer said it was the biggest leak of its kind to hit the firm. Apple is holding a launch event at its new headquarters on Tuesday. The California-based company takes great efforts to keep its technologies secret until its showcase events, and chief executive Tim Cook spoke in 2012 of the need to "double down" on concealment measures. Some details about the new devices had, however, already been revealed in August, when Apple published some test code for its HomePod speakers. But while that was thought to have been a mistake, it has been claimed that the latest leak was an intentional act of sabotage. "As best I've been able to ascertain, these builds were available to download by anyone, but they were obscured by long, unguessable URLs [web addresses]," wrote John Gruber, a blogger known for his coverage of Apple. "Someone within Apple leaked the list of URLs to 9to5Mac and MacRumors. I'm nearly certain this wasn't a mistake, but rather a deliberate malicious act by a rogue Apple employee." Neither Mr Gruber nor the two Apple-related news sites have disclosed their sources. However, the BBC has independently confirmed that an anonymous source provided the publications with links to iOS 11's golden master (GM) code that downloaded the software from Apple's own computer servers. GM is a term commonly used by software firms to indicate that they believe a version of a product is ready for release. "More surprises were spoiled by this leak than any leak in Apple history," Mr Gruber added. Apple could not be reached for comment. Several developers are still scouring the leak for new features, but discoveries so far include: It marks the second time in three months that the company seems to have been deliberately caught out by a staff member. In June, an hour-long recording of an internal meeting - ironically about stopping leakers - was passed onto the Outline news site. It revealed that Apple had hired ex-workers from the US National Security Agency (NSA), FBI and Secret Service to help catch tattletales. "I have faith deep in my soul that if we hire smart people they're gonna think about this, they're gonna understand this, and ultimately they're gonna do the right thing, and that's to keep their mouth shut," one senior Apple executive was heard to say. One company watcher said that the scale of the leak meant Tuesday's launch had lost some of its power to surprise. "There will be an unbelievable effort within Apple to determine how this happened and I don't envy the person that did it because there will be no forgiveness for it," commented Ben Wood from the tech consultancy CCS Insight. But he added that it was unlikely to affect sales or interest in the new devices. "For other companies this might have huge impact on the effectiveness of their grand official launches, but for Apple there is such insatiable demand for even the smallest details and such an obsessive fan-following of its products that even a very detailed leak will do little to dampen the enthusiasm of bloggers and others to report its news," he said.